<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace = "cMember">
  
  <select id = "TestAll" resultType = "model.CMemberDto">
  	SELECT PAYDATE, REQUEST_DATE, REFUND_DATE
  	FROM PAYMENT
  </select>
  <!-- 
  <select id = "">
  	SELECT
  	FROM
  	WHERE 
  </select> -->
  
  <!-- 기업정보 이동 -->
  <select id = "goCMypage" parameterType = "model.CMemberDto" resultType = "model.CMemberDto">
  	SELECT DEPARTMENT, TYPE, PRESIDENT, TEL, EMAIL, ADDRESS, HASHTAG, INTRODUCE
  	FROM C_MEMBER
  	WHERE SEQ=#{seq}
  </select>
  
  <!-- 기업정보 수정 이동 -->
  <select id = "goUpdate" parameterType = "model.CMemberDto" resultType = "model.CMemberDto">
  	SELECT *
  	FROM C_MEMBER
  	WHERE SEQ=#{seq}
  </select>
  
  <!-- 기업정보 수정 -->
  <update id = "update" parameterType = "model.CMemberDto">
  	UPDATE C_MEMBER
  	SET PASSWORD=#{password}, PRESIDENT=#{president}, DEPARTMENT=#{department}, 
  	TYPE=#{type}, ADDRESS=#{address}, TEL=#{tel}, NUMBER=#{number}, 
  	HASHTAG=#{hashTag}, INTRODUCE=#{introduce}
  	WHERE SEQ=#{seq}
  </update>
  
  <!-- 기업회원 탈퇴 페이지 이동 -->
  <select id = "goWithdrawal" parameterType = "model.CMemberDto" resultType = "model.CMemberDto">
  	SELECT *
  	FROM C_MEMBER
  	WHERE SEQ=#{seq}
  </select>
  
  <!-- 기업 정보 수정 -->
  <update id = "update" parameterType = "model.CMemberDto">
  	UPDATE C_MEMBER
  	SET	PASSWORD=#{password}, PRESIDENT=#{president}, DEPARTMENT=#{department}, TYPE=#{type},
  		ADDRESS=#{address}, NUMBER=#{number}, TEL=#{tel}, HASHTAG=#{hashTag}, INTRODUCE=#{introduce},
  		LOGONAME=#{logoName}, LOGOPATH=#{logoPath}
  	WHERE EMAIL=#{email}
  </update>
  
  <!-- 기업회원 탈퇴 -->
  <update id = "withdrawal" parameterType = "model.CMemberDto">
  	UPDATE C_MEMBER
  	SET DEL = 1
  	WHERE EMAIL=#{email} AND PASSWORD=#{password}
  </update>
  
  <!-- 탈퇴를 위해 비밀번호 체크 -->
  <select id = "checkPassword" parameterType = "model.CMemberDto" resultType = "java.lang.Integer">
  	SELECT COUNT(*)
  	FROM C_MEMBER
  	WHERE EMAIL=#{email} AND PASSWORD=#{password}
  </select>
  
  </mapper>
  
  
  
  
  
  
  
  
  
